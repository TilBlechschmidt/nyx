sequence = ["my_flt"]

[state.state_name]
x = -2436.45
y = -2436.45
z = 6891.037
vx = 5.088611
vy = -5.088611
vz = 0.0
frame = "EME2000"
epoch = "MJD 51544.5 TAI" # or "2018-09-15T00:15:53.098 UTC"
unit_position = "km"  # Default value if unspecified
unit_velocity = "km/s"  # Default value if unspecified

[orbital_dynamics.conf_name]
integration_frame = "EME2000"
initial_state = "state_name"
point_masses = ["Sun", "Earth", "Jupiter", "Luna"]
accel_models = ["my_models"]

[spacecraft.sc1]
dry_mass = 100.0
fuel_mass = 20.0
orbital_dynamics = "conf_name"

[propagator.nav_prop]
dynamics = "sc1"
stop_cond = "3.5 days"
output = "my_csv"

[propagator.truth_propagator]
dynamics = "sc1"
stop_cond = "3.5 days"
output = "my_csv"

[accel_models.my_models.harmonics.jgm3_70x70]
frame = "EME2000"
degree = 70
order = 70
file = "data/JGM3.cof.gz"

[output.my_csv]
filename = "./data/truth.csv"
headers = ["epoch:GregorianUtc", "x", "y", "z", "vx", "vy", "vz", "rmag:Luna"]

[odp.my_flt]
navigation_prop = "nav_prop"
initial_estimate = "my_estimate"
msr_noise = [1e-1, 1e-2]
# snc = [1e-12, 1e-12, 1e-12]
snc_disable = "120 * sec"
measurements = "msr_sim"  # Or provide a file name
# ekf_msr_trigger = 30
output = "estimate_csv"

[output.estimate_csv]
filename = "./data/estimates.csv"
# headers = ["epoch:GregorianUtc", "delta_x", "delta_y", "delta_z", "delta_vx", "delta_vy", "delta_vz"]  # If unset, default will be used

[measurements.msr_sim]
propagator = "truth_propagator"
msr_device = ["dss13", "dss65", "dss34"]
output = "msr_sim.csv"
use_file_if_available = true

[stations.dss13]
elevation = 0.0
latitude = 40.427_222
longitude = 4.250_556
height = 0.834_939
range_noise = 0.001
range_rate_noise = 0.0001

[stations.dss65]
from = "dss65" # Name of the station, built-in
elevation = 0.0
range_noise = 0.001
range_rate_noise = 0.0001

[stations.dss34]
from = "dss34" # Name of the station, built-in
elevation = 0.0
range_noise = 0.001
range_rate_noise = 0.0001

[estimate.my_estimate]
state = "state_name"
#covar_mat = [[1e1, 1e1, 1e1, 1e1, 1e1, 1e1],[1e1, 1e1, 1e1, 1e1, 1e1, 1e1],[1e1, 1e1, 1e1, 1e1, 1e1, 1e1],[1e1, 1e1, 1e1, 1e1, 1e1, 1e1],[1e1, 1e1, 1e1, 1e1, 1e1, 1e1],[1e1, 1e1, 1e1, 1e1, 1e1, 1e1]]
covar_diag = [1e3, 1e3, 1e3, 1e1, 1e1, 1e1]